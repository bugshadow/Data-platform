<!DOCTYPE html>
<!-- D√©claration du type de document comme √©tant HTML5 -->
{% load static %}
<!-- Balise Django pour charger les fichiers statiques (CSS, JS, images, etc.) -->
<html lang="fr">
<!-- D√©but du document HTML avec la langue d√©finie sur le fran√ßais -->
<head>
    <!-- Section d'en-t√™te du document -->
    <meta charset="UTF-8">
    <!-- D√©finit l'encodage des caract√®res comme UTF-8 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Assure que la page est responsive en ajustant la largeur √† celle de l'appareil -->
    <title>Analyseur de Donn√©es - Interface Moderne</title>
    <!-- Titre de la page qui appara√Æt dans l'onglet du navigateur -->
    
    <!-- Charge le fichier CSS -->
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <!-- Lien vers le fichier CSS pour styliser la page -->
    
    <!-- Charge les biblioth√®ques externes -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/2.24.2/plotly.min.js"></script>
    <!-- Biblioth√®que Plotly pour les visualisations de donn√©es -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <!-- Biblioth√®que PapaParse pour l'analyse de fichiers CSV -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- Biblioth√®que Three.js pour les animations 3D -->
    
    <!-- Charge le fichier JavaScript local avec l'attribut defer -->
    <script src="{% static 'js/script.js' %}" defer></script>
    <!-- Lien vers le fichier JavaScript, charg√© en diff√©r√© (apr√®s le chargement du HTML) -->
</head>
<body>
    <!-- Corps du document HTML -->

    <!-- Canvas pour l'animation de fond -->
    <canvas id="animation-bg"></canvas>
    <!-- Canvas utilis√© pour afficher une animation en arri√®re-plan -->

    <!-- Bouton pour basculer entre les th√®mes clair et sombre -->
    <button class="theme-toggle" id="theme-toggle" aria-label="Basculer entre le mode sombre et clair">üåô</button>
    <!-- Bouton avec une ic√¥ne de lune pour changer le th√®me -->

    <!-- Cercle utilisateur avec menu d√©roulant -->
    <div class="user-circle" id="user-circle">
        üë§
        <!-- Ic√¥ne utilisateur -->
        <div class="user-dropdown" id="user-dropdown">
            <!-- Menu d√©roulant pour les actions utilisateur -->
            <button onclick="window.location.href='/logout/'">D√©connexion</button>
            <!-- Bouton pour se d√©connecter -->
        </div>
    </div>

    <!-- Conteneur principal -->
    <div class="container">
        <!-- En-t√™te de la page -->
        <header class="header">
            <h1 id="animated-text">Analyseur de Donn√©es</h1>
            <!-- Titre anim√© de la page -->
            <p>Importez, analysez et visualisez vos donn√©es en quelques clics</p>
            <!-- Description de la page -->
        </header>

        <!-- Grille pour les cartes fonctionnelles -->
        <div class="grid">
            <!-- Carte : Import de donn√©es -->
            <div class="card">
                <h2>Import de donn√©es</h2>
                <!-- Titre de la carte -->
                <div class="form-group">
                    <label class="form-label" for="csv-input">S√©lectionnez votre fichier CSV</label>
                    <!-- √âtiquette pour le champ de s√©lection de fichier -->
                    <input type="file" id="csv-input" accept=".csv" class="form-control">
                    <!-- Champ pour s√©lectionner un fichier CSV -->
                </div>
                <button id="upload-btn" class="btn btn-primary">Importer</button>
                <!-- Bouton pour importer le fichier CSV -->
                <button id="download-btn" class="btn btn-secondary" style="margin-top: 10px;" disabled>T√©l√©charger CSV trait√©</button>
                <!-- Bouton pour t√©l√©charger le fichier CSV trait√© (d√©sactiv√© par d√©faut) -->
            </div>

            <!-- Carte : S√©lection des donn√©es et Statistiques -->
            <div class="card">
                <h2>S√©lection des donn√©es et Statistiques</h2>
                <!-- Titre de la carte -->
                <div class="form-group">
                    <label class="form-label" for="column-select">Colonne</label>
                    <!-- √âtiquette pour la s√©lection de colonne -->
                    <select id="column-select" class="form-control" disabled>
                        <!-- Menu d√©roulant pour s√©lectionner une colonne (d√©sactiv√© par d√©faut) -->
                        <option value="">S√©lectionnez une colonne</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label" for="start-row">Range de lignes</label>
                    <!-- √âtiquette pour la s√©lection de la plage de lignes -->
                    <div class="range-group">
                        <input type="number" id="start-row" class="form-control" placeholder="D√©but" min="0">
                        <!-- Champ pour le d√©but de la plage -->
                        <input type="number" id="end-row" class="form-control" placeholder="Fin" min="0">
                        <!-- Champ pour la fin de la plage -->
                    </div>
                </div>
                <button id="calculate-stats-btn" class="btn btn-primary">Calculer les Statistiques</button>
                <!-- Bouton pour calculer les statistiques -->
            </div>

            <!-- Carte : Acc√©der √† une ligne ou une colonne -->
            <div class="card">
                <h2>Acc√©der √† une ligne ou une colonne</h2>
                <!-- Titre de la carte -->
                <div class="form-group">
                    <label class="form-label" for="row-index">Index de ligne</label>
                    <!-- √âtiquette pour l'index de ligne -->
                    <input type="number" id="row-index" class="form-control" placeholder="Entrez un index de ligne" min="0">
                    <!-- Champ pour entrer l'index de ligne -->
                </div>
                <div class="form-group">
                    <label class="form-label" for="column-name">Nom de colonne</label>
                    <!-- √âtiquette pour le nom de colonne -->
                    <input type="text" id="column-name" class="form-control" placeholder="Entrez le nom d'une colonne">
                    <!-- Champ pour entrer le nom de colonne -->
                </div>
                <button id="display-data-btn" class="btn btn-primary">Afficher les donn√©es</button>
                <!-- Bouton pour afficher les donn√©es -->
            </div>

            <!-- Carte : Visualisation -->
            <div class="card">
                <h2>Visualisation</h2>
                <!-- Titre de la carte -->
                <div class="form-group">
                    <label class="form-label" for="viz-column-select">Colonne √† visualiser</label>
                    <!-- √âtiquette pour la s√©lection de colonne √† visualiser -->
                    <select id="viz-column-select" class="form-control" disabled>
                        <!-- Menu d√©roulant pour s√©lectionner une colonne (d√©sactiv√© par d√©faut) -->
                        <option value="">S√©lectionnez une colonne</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label" for="viz-type">Type de visualisation</label>
                    <!-- √âtiquette pour la s√©lection du type de visualisation -->
                    <select id="viz-type" class="form-control" disabled>
                        <!-- Menu d√©roulant pour s√©lectionner le type de visualisation (d√©sactiv√© par d√©faut) -->
                        <option value="histogram">Histogramme</option>
                        <option value="box">Bo√Æte √† moustaches</option>
                        <option value="scatter">Nuage de points</option>
                        <option value="time_series">S√©rie temporelle</option>
                        <option value="violin">Violon</option>
                        <option value="heatmap">Heatmap</option>
                        <option value="pairplot">Pair Plot</option>
                        <option value="pie">Diagramme circulaire</option>
                        <option value="area">Graphique en aires</option>
                        <option value="density_contour">Contour de densit√©</option>
                    </select>
                </div>
                <button id="generate-viz-btn" class="btn btn-primary" disabled>G√©n√©rer la visualisation</button>
                <!-- Bouton pour g√©n√©rer la visualisation (d√©sactiv√© par d√©faut) -->
            </div>
        </div>

        <!-- Carte : Aper√ßu des donn√©es -->
        <div class="card">
            <h2>Aper√ßu des donn√©es</h2>
            <!-- Titre de la carte -->
            <div id="data-preview" class="table-responsive">
                <!-- Conteneur pour l'aper√ßu des donn√©es -->
                <table class="styled-table">
                    <!-- Tableau pour afficher les donn√©es -->
                    <thead>
                        <tr>
                            <th>#</th>
                            <!-- En-t√™te de colonne -->
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Corps du tableau (vide par d√©faut) -->
                    </tbody>
                </table>
            </div>
            <div id="no-data-message" class="no-data" style="display: none;">Aucune donn√©e √† afficher</div>
            <!-- Message affich√© lorsqu'il n'y a pas de donn√©es -->
        </div>

        <!-- Carte : Statistiques -->
        <div class="card">
            <h2>Statistiques</h2>
            <!-- Titre de la carte -->
            <div class="stats-grid" id="stats-container"></div>
            <!-- Conteneur pour afficher les statistiques -->
        </div>

        <!-- Carte : Visualisation -->
        <div class="card">
            <h2>Visualisation</h2>
            <!-- Titre de la carte -->
            <div id="visualization" class="visualization-container"></div>
            <!-- Conteneur pour afficher les visualisations -->
            <div id="no-viz-message" class="no-data" style="display: none;">Aucune visualisation disponible</div>
            <!-- Message affich√© lorsqu'il n'y a pas de visualisation -->
        </div>

        <!-- Indicateur de chargement -->
        <div class="loader" id="loader"></div>
        <!-- Indicateur visuel pour montrer que la page est en cours de chargement -->
    </div>
</body>
</html>